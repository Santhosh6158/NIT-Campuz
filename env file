<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Environment File Setup - NIT Campuz LMS</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .step-card {
            transition: all 0.3s ease;
        }
        .step-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1);
        }
        .code-block {
            background: #1a1a1a;
            color: #e5e5e5;
        }
        .command {
            background: #2d3748;
            color: #68d391;
            padding: 0.5rem;
            border-radius: 0.375rem;
            font-family: 'Courier New', monospace;
            display: inline-block;
            margin: 0.25rem 0;
        }
    </style>
</head>
<body class="bg-gray-50">
    <div class="max-w-6xl mx-auto px-4 py-8">
        <!-- Header -->
        <div class="text-center mb-8">
            <h1 class="text-4xl font-bold text-gray-900 mb-4">‚öôÔ∏è Environment File Setup</h1>
            <p class="text-lg text-gray-600">Step-by-step guide to configure your .env file</p>
        </div>

        <!-- Quick Overview -->
        <div class="bg-blue-50 border-l-4 border-blue-400 p-6 mb-8 rounded-r-lg">
            <div class="flex items-center mb-2">
                <span class="text-2xl mr-2">üí°</span>
                <h2 class="text-xl font-bold text-blue-900">What is the .env file?</h2>
            </div>
            <p class="text-blue-800">The .env file contains sensitive configuration settings like database passwords, API keys, and other environment-specific variables. It's not included in the repository for security reasons.</p>
        </div>

        <!-- Step-by-Step Guide -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8">
            <!-- Step 1 -->
            <div class="step-card bg-white rounded-xl shadow-lg p-6">
                <div class="flex items-center mb-4">
                    <div class="w-10 h-10 bg-blue-600 text-white rounded-full flex items-center justify-center font-bold mr-3">1</div>
                    <h3 class="text-xl font-bold">Locate .env.example</h3>
                </div>
                <p class="text-gray-600 mb-4">First, find the .env.example file in your project root directory:</p>
                <div class="code-block p-4 rounded-lg text-sm">
                    <div class="text-green-400"># Your project structure should look like:</div>
                    <div class="text-white">nit-campuz-lms/</div>
                    <div class="text-white">‚îú‚îÄ‚îÄ .env.example  ‚Üê This file</div>
                    <div class="text-white">‚îú‚îÄ‚îÄ README.md</div>
                    <div class="text-white">‚îú‚îÄ‚îÄ requirements.txt</div>
                    <div class="text-white">‚îî‚îÄ‚îÄ ...</div>
                </div>
            </div>

            <!-- Step 2 -->
            <div class="step-card bg-white rounded-xl shadow-lg p-6">
                <div class="flex items-center mb-4">
                    <div class="w-10 h-10 bg-green-600 text-white rounded-full flex items-center justify-center font-bold mr-3">2</div>
                    <h3 class="text-xl font-bold">Copy the File</h3>
                </div>
                <p class="text-gray-600 mb-4">Copy .env.example to create your .env file:</p>
                
                <div class="space-y-4">
                    <div>
                        <h4 class="font-semibold text-gray-800 mb-2">üêß Linux/Mac:</h4>
                        <div class="command">cp .env.example .env</div>
                    </div>
                    
                    <div>
                        <h4 class="font-semibold text-gray-800 mb-2">ü™ü Windows (Command Prompt):</h4>
                        <div class="command">copy .env.example .env</div>
                    </div>
                    
                    <div>
                        <h4 class="font-semibold text-gray-800 mb-2">ü™ü Windows (PowerShell):</h4>
                        <div class="command">Copy-Item .env.example .env</div>
                    </div>
                </div>
            </div>

            <!-- Step 3 -->
            <div class="step-card bg-white rounded-xl shadow-lg p-6">
                <div class="flex items-center mb-4">
                    <div class="w-10 h-10 bg-purple-600 text-white rounded-full flex items-center justify-center font-bold mr-3">3</div>
                    <h3 class="text-xl font-bold">Edit the .env File</h3>
                </div>
                <p class="text-gray-600 mb-4">Open the newly created .env file in your favorite text editor:</p>
                
                <div class="space-y-2">
                    <div class="command">nano .env</div>
                    <div class="text-sm text-gray-500">or</div>
                    <div class="command">code .env</div>
                    <div class="text-sm text-gray-500">or</div>
                    <div class="command">vim .env</div>
                </div>
            </div>

            <!-- Step 4 -->
            <div class="step-card bg-white rounded-xl shadow-lg p-6">
                <div class="flex items-center mb-4">
                    <div class="w-10 h-10 bg-yellow-600 text-white rounded-full flex items-center justify-center font-bold mr-3">4</div>
                    <h3 class="text-xl font-bold">Configure Settings</h3>
                </div>
                <p class="text-gray-600 mb-4">Update the values according to your setup:</p>
                
                <div class="bg-yellow-100 p-3 rounded-lg">
                    <p class="text-yellow-800 text-sm">
                        <strong>‚ö†Ô∏è Important:</strong> Never commit the .env file to version control!
                    </p>
                </div>
            </div>
        </div>

        <!-- Environment File Template -->
        <div class="bg-white rounded-xl shadow-lg p-6 mb-8">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-2xl font-bold">üìù .env File Template</h3>
                <button onclick="copyEnvFile()" class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors">
                    üìã Copy Template
                </button>
            </div>
            
            <pre id="envTemplate" class="code-block p-4 rounded-lg text-sm overflow-x-auto"><code># =============================================================================
# NIT CAMPUZ LMS ENVIRONMENT CONFIGURATION
# =============================================================================
# Copy this file to .env and update the values according to your setup
# NEVER commit the .env file to version control!

# =============================================================================
# DJANGO CORE SETTINGS
# =============================================================================
SECRET_KEY=your-super-secret-key-change-this-in-production-make-it-long-and-random
DEBUG=True
ALLOWED_HOSTS=localhost,127.0.0.1,0.0.0.0

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# For Docker setup (default):
DATABASE_URL=postgresql://nitcampuz_user:nitcampuz_pass@db:5432/nitcampuz_db

# For local PostgreSQL setup:
# DATABASE_URL=postgresql://your_username:your_password@localhost:5432/nitcampuz_db

# For SQLite (development only):
# DATABASE_URL=sqlite:///db.sqlite3

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================
# For Docker setup (default):
REDIS_URL=redis://redis:6379/0

# For local Redis setup:
# REDIS_URL=redis://localhost:6379/0

# =============================================================================
# EMAIL CONFIGURATION
# =============================================================================
EMAIL_BACKEND=django.core.mail.backends.smtp.EmailBackend
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USE_TLS=True
EMAIL_HOST_USER=your-email@gmail.com
EMAIL_HOST_PASSWORD=your-app-password
DEFAULT_FROM_EMAIL=noreply@nitcampuz.edu

# =============================================================================
# AWS S3 CONFIGURATION (Optional - for file storage)
# =============================================================================
USE_S3=False
AWS_ACCESS_KEY_ID=your-aws-access-key-id
AWS_SECRET_ACCESS_KEY=your-aws-secret-access-key
AWS_STORAGE_BUCKET_NAME=nitcampuz-media-bucket
AWS_S3_REGION_NAME=us-east-1
AWS_S3_CUSTOM_DOMAIN=your-cloudfront-domain.com

# =============================================================================
# JWT AUTHENTICATION SETTINGS
# =============================================================================
JWT_ACCESS_TOKEN_LIFETIME=60
JWT_REFRESH_TOKEN_LIFETIME=1440

# =============================================================================
# CELERY CONFIGURATION (for background tasks)
# =============================================================================
CELERY_BROKER_URL=redis://redis:6379/1
CELERY_RESULT_BACKEND=redis://redis:6379/1

# =============================================================================
# SECURITY SETTINGS
# =============================================================================
# Set these to True in production with HTTPS
SECURE_SSL_REDIRECT=False
SECURE_HSTS_SECONDS=0
SECURE_HSTS_INCLUDE_SUBDOMAINS=False
SECURE_HSTS_PRELOAD=False
SESSION_COOKIE_SECURE=False
CSRF_COOKIE_SECURE=False

# =============================================================================
# LOGGING & MONITORING
# =============================================================================
LOG_LEVEL=INFO
SENTRY_DSN=your-sentry-dsn-here-for-error-tracking

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================
SITE_NAME=NIT Campuz LMS
SITE_URL=http://localhost:8000
ADMIN_EMAIL=admin@nitcampuz.edu
SUPPORT_EMAIL=support@nitcampuz.edu</code></pre>
        </div>

        <!-- Configuration Guide -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8">
            <!-- Development Setup -->
            <div class="bg-green-50 rounded-xl p-6 border border-green-200">
                <h3 class="text-xl font-bold text-green-800 mb-4">üîß Development Setup</h3>
                <div class="space-y-4">
                    <div>
                        <h4 class="font-semibold text-green-700">For Docker (Recommended):</h4>
                        <ul class="text-sm text-green-600 mt-2 space-y-1">
                            <li>‚Ä¢ Keep DATABASE_URL as: <code class="bg-green-100 px-1 rounded">postgresql://nitcampuz_user:nitcampuz_pass@db:5432/nitcampuz_db</code></li>
                            <li>‚Ä¢ Keep REDIS_URL as: <code class="bg-green-100 px-1 rounded">redis://redis:6379/0</code></li>
                            <li>‚Ä¢ Set DEBUG=True</li>
                            <li>‚Ä¢ Generate a new SECRET_KEY</li>
                        </ul>
                    </div>
                    
                    <div>
                        <h4 class="font-semibold text-green-700">For Local Development:</h4>
                        <ul class="text-sm text-green-600 mt-2 space-y-1">
                            <li>‚Ä¢ Update DATABASE_URL with your local PostgreSQL credentials</li>
                            <li>‚Ä¢ Update REDIS_URL to: <code class="bg-green-100 px-1 rounded">redis://localhost:6379/0</code></li>
                            <li>‚Ä¢ Install PostgreSQL and Redis locally</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- Production Setup -->
            <div class="bg-red-50 rounded-xl p-6 border border-red-200">
                <h3 class="text-xl font-bold text-red-800 mb-4">üöÄ Production Setup</h3>
                <div class="space-y-4">
                    <div>
                        <h4 class="font-semibold text-red-700">Critical Changes:</h4>
                        <ul class="text-sm text-red-600 mt-2 space-y-1">
                            <li>‚Ä¢ Set DEBUG=False</li>
                            <li>‚Ä¢ Generate a strong SECRET_KEY (50+ characters)</li>
                            <li>‚Ä¢ Update ALLOWED_HOSTS with your domain</li>
                            <li>‚Ä¢ Set all SECURE_* settings to True</li>
                            <li>‚Ä¢ Configure real email settings</li>
                            <li>‚Ä¢ Setup AWS S3 for media files</li>
                        </ul>
                    </div>
                    
                    <div class="bg-red-100 p-3 rounded">
                        <p class="text-red-800 text-sm font-semibold">
                            ‚ö†Ô∏è Never use development settings in production!
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Common Issues -->
        <div class="bg-yellow-50 rounded-xl p-6 border border-yellow-200 mb-8">
            <h3 class="text-xl font-bold text-yellow-800 mb-4">‚ö†Ô∏è Common Issues & Solutions</h3>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div>
                    <h4 class="font-semibold text-yellow-700 mb-2">‚ùå File Not Found Error</h4>
                    <p class="text-sm text-yellow-600 mb-2">If you get "No such file or directory":</p>
                    <ul class="text-sm text-yellow-600 space-y-1">
                        <li>‚Ä¢ Make sure you're in the project root directory</li>
                        <li>‚Ä¢ Check if .env.example exists: <code class="bg-yellow-100 px-1 rounded">ls -la .env*</code></li>
                        <li>‚Ä¢ Create .env.example if missing</li>
                    </ul>
                </div>
                
                <div>
                    <h4 class="font-semibold text-yellow-700 mb-2">‚ùå Permission Denied</h4>
                    <p class="text-sm text-yellow-600 mb-2">If you get permission errors:</p>
                    <ul class="text-sm text-yellow-600 space-y-1">
                        <li>‚Ä¢ Check file permissions: <code class="bg-yellow-100 px-1 rounded">ls -la</code></li>
                        <li>‚Ä¢ Use sudo if needed: <code class="bg-yellow-100 px-1 rounded">sudo cp .env.example .env</code></li>
                        <li>‚Ä¢ Change ownership: <code class="bg-yellow-100 px-1 rounded">sudo chown $USER:$USER .env</code></li>
                    </ul>
                </div>
                
                <div>
                    <h4 class="font-semibold text-yellow-700 mb-2">‚ùå Database Connection Error</h4>
                    <p class="text-sm text-yellow-600 mb-2">If Django can't connect to database:</p>
                    <ul class="text-sm text-yellow-600 space-y-1">
                        <li>‚Ä¢ Check DATABASE_URL format</li>
                        <li>‚Ä¢ Ensure PostgreSQL is running</li>
                        <li>‚Ä¢ Verify credentials are correct</li>
                    </ul>
                </div>
                
                <div>
                    <h4 class="font-semibold text-yellow-700 mb-2">‚ùå Redis Connection Error</h4>
                    <p class="text-sm text-yellow-600 mb-2">If Redis connection fails:</p>
                    <ul class="text-sm text-yellow-600 space-y-1">
                        <li>‚Ä¢ Check if Redis is running: <code class="bg-yellow-100 px-1 rounded">redis-cli ping</code></li>
                        <li>‚Ä¢ Verify REDIS_URL format</li>
                        <li>‚Ä¢ Check port availability</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Verification Steps -->
        <div class="bg-blue-50 rounded-xl p-6 border border-blue-200">
            <h3 class="text-xl font-bold text-blue-800 mb-4">‚úÖ Verify Your Setup</h3>
            
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <div>
                    <h4 class="font-semibold text-blue-700 mb-2">1. Check File Exists</h4>
                    <div class="command text-sm">ls -la .env</div>
                    <p class="text-sm text-blue-600 mt-1">Should show the .env file</p>
                </div>
                
                <div>
                    <h4 class="font-semibold text-blue-700 mb-2">2. Test Django Settings</h4>
                    <div class="command text-sm">python manage.py check</div>
                    <p class="text-sm text-blue-600 mt-1">Should show no errors</p>
                </div>
                
                <div>
                    <h4 class="font-semibold text-blue-700 mb-2">3. Test Database Connection</h4>
                    <div class="command text-sm">python manage.py migrate --dry-run</div>
                    <p class="text-sm text-blue-600 mt-1">Should connect successfully</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        function copyEnvFile() {
            const envTemplate = document.getElementById('envTemplate').textContent;
            
            navigator.clipboard.writeText(envTemplate).then(function() {
                // Show success feedback
                const button = event.target;
                const originalText = button.textContent;
                button.textContent = '‚úÖ Copied!';
                button.classList.add('bg-green-600');
                button.classList.remove('bg-blue-600');
                
                setTimeout(() => {
                    button.textContent = originalText;
                    button.classList.remove('bg-green-600');
                    button.classList.add('bg-blue-600');
                }, 2000);
                
                // Show additional instructions
                alert('‚úÖ Environment template copied!\n\nüìù Next steps:\n1. Create a new file called ".env" in your project root\n2. Paste the copied content\n3. Update the values according to your setup\n4. Save the file\n\n‚ö†Ô∏è Remember: Never commit the .env file to version control!');
            }).catch(function(err) {
                console.error('Could not copy text: ', err);
                alert('‚ùå Failed to copy. Please select and copy the text manually.');
            });
        }
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'971ffea4f2e1f56a',t:'MTc1NTY3MzAyNy4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
